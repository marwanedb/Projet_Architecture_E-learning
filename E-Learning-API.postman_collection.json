{
    "info": {
        "_postman_id": "e-learning-auth-service",
        "name": "E-Learning Platform API",
        "description": "API collection for the E-Learning microservices platform",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:8081",
            "type": "string"
        },
        {
            "key": "gatewayUrl",
            "value": "http://localhost:8080",
            "type": "string"
        },
        {
            "key": "catalogUrl",
            "value": "http://localhost:8085",
            "type": "string"
        },
        {
            "key": "accessToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "refreshToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "userId",
            "value": "",
            "type": "string"
        },
        {
            "key": "courseId",
            "value": "",
            "type": "string"
        },
        {
            "key": "categoryId",
            "value": "",
            "type": "string"
        },
        {
            "key": "moduleId",
            "value": "",
            "type": "string"
        },
        {
            "key": "quizId",
            "value": "",
            "type": "string"
        },
        {
            "key": "studentUrl",
            "value": "http://localhost:8082",
            "type": "string"
        },
        {
            "key": "professorUrl",
            "value": "http://localhost:8083",
            "type": "string"
        },
        {
            "key": "studentId",
            "value": "",
            "type": "string"
        },
        {
            "key": "professorId",
            "value": "",
            "type": "string"
        },
        {
            "key": "learningUrl",
            "value": "http://localhost:8086",
            "type": "string"
        },
        {
            "key": "enrollmentId",
            "value": "",
            "type": "string"
        },
        {
            "key": "adminUrl",
            "value": "http://localhost:8084",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Auth Service",
            "item": [
                {
                    "name": "Register Student",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                                    "    pm.collectionVariables.set('refreshToken', jsonData.refreshToken);",
                                    "    pm.collectionVariables.set('userId', jsonData.userId);",
                                    "    pm.test('Registration successful', function() {",
                                    "        pm.expect(jsonData.email).to.eql('student@test.com');",
                                    "        pm.expect(jsonData.role).to.eql('STUDENT');",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"student@test.com\",\n  \"password\": \"password123\",\n  \"role\": \"STUDENT\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Register a new student user"
                    }
                },
                {
                    "name": "Register Professor",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('userId', jsonData.userId);",
                                    "    pm.test('Professor registration successful', function() {",
                                    "        pm.expect(jsonData.role).to.eql('PROFESSOR');",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"professor@test.com\",\n  \"password\": \"password123\",\n  \"role\": \"PROFESSOR\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Register a new professor user"
                    }
                },
                {
                    "name": "Register Admin",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"admin@test.com\",\n  \"password\": \"password123\",\n  \"role\": \"ADMIN\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Register a new admin user"
                    }
                },
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                                    "    pm.collectionVariables.set('refreshToken', jsonData.refreshToken);",
                                    "    pm.collectionVariables.set('userId', jsonData.userId);",
                                    "    pm.test('Login successful', function() {",
                                    "        pm.expect(jsonData.accessToken).to.not.be.empty;",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"student@test.com\",\n  \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Authenticate user and get JWT tokens"
                    }
                },
                {
                    "name": "Validate Token",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Token is valid', function() {",
                                    "    pm.expect(pm.response.text()).to.eql('true');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/auth/validate?token={{accessToken}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "validate"
                            ],
                            "query": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}"
                                }
                            ]
                        },
                        "description": "Validate if a JWT token is still valid"
                    }
                },
                {
                    "name": "Refresh Token",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                                    "    pm.collectionVariables.set('refreshToken', jsonData.refreshToken);",
                                    "    pm.test('Token refreshed successfully', function() {",
                                    "        pm.expect(jsonData.accessToken).to.not.be.empty;",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/refresh",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "refresh"
                            ]
                        },
                        "description": "Get new access token using refresh token"
                    }
                },
                {
                    "name": "Get User by ID",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('User retrieved successfully', function() {",
                                    "    pm.response.to.have.status(200);",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.id).to.not.be.undefined;",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/auth/users/{{userId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "users",
                                "{{userId}}"
                            ]
                        },
                        "description": "Get user details by ID"
                    }
                },
                {
                    "name": "Get User by Email",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('User retrieved by email', function() {",
                                    "    pm.response.to.have.status(200);",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.email).to.eql('student@test.com');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/auth/users/email/student@test.com",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "users",
                                "email",
                                "student@test.com"
                            ]
                        },
                        "description": "Get user details by email"
                    }
                },
                {
                    "name": "Logout",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Logout successful', function() {",
                                    "    pm.response.to.have.status(204);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/auth/logout/{{userId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "logout",
                                "{{userId}}"
                            ]
                        },
                        "description": "Logout user and invalidate refresh token"
                    }
                }
            ],
            "description": "Authentication endpoints for user registration, login, and token management"
        },
        {
            "name": "Error Cases",
            "item": [
                {
                    "name": "Register - Duplicate Email",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Duplicate email rejected', function() {",
                                    "    pm.response.to.have.status(409);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"student@test.com\",\n  \"password\": \"password123\",\n  \"role\": \"STUDENT\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Test registering with an email that already exists"
                    }
                },
                {
                    "name": "Login - Wrong Password",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Invalid credentials rejected', function() {",
                                    "    pm.response.to.have.status(401);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"student@test.com\",\n  \"password\": \"wrongpassword\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Test login with wrong password"
                    }
                },
                {
                    "name": "Register - Invalid Email Format",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Invalid email rejected', function() {",
                                    "    pm.response.to.have.status(400);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"invalid-email\",\n  \"password\": \"password123\",\n  \"role\": \"STUDENT\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Test registering with invalid email format"
                    }
                },
                {
                    "name": "Register - Short Password",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Short password rejected', function() {",
                                    "    pm.response.to.have.status(400);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"short@test.com\",\n  \"password\": \"12345\",\n  \"role\": \"STUDENT\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Test registering with password shorter than 8 characters"
                    }
                },
                {
                    "name": "Get User - Not Found",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('User not found', function() {",
                                    "    pm.response.to.have.status(404);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/auth/users/99999",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "users",
                                "99999"
                            ]
                        },
                        "description": "Test getting a user that doesn't exist"
                    }
                }
            ],
            "description": "Test cases for error handling and validation"
        },
        {
            "name": "Gateway Service",
            "item": [
                {
                    "name": "Gateway - Login (Public)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                                    "    pm.collectionVariables.set('refreshToken', jsonData.refreshToken);",
                                    "    pm.collectionVariables.set('userId', jsonData.userId);",
                                    "    pm.test('Gateway login successful', function() {",
                                    "        pm.expect(jsonData.accessToken).to.not.be.empty;",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"student@test.com\",\n  \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{gatewayUrl}}/auth-service/auth/login",
                            "host": [
                                "{{gatewayUrl}}"
                            ],
                            "path": [
                                "auth-service",
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Login through gateway (public endpoint)"
                    }
                },
                {
                    "name": "Gateway - Get Students (Protected)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Protected endpoint requires auth', function() {",
                                    "    pm.response.to.have.status(200);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{gatewayUrl}}/student-service/students",
                            "host": [
                                "{{gatewayUrl}}"
                            ],
                            "path": [
                                "student-service",
                                "students"
                            ]
                        },
                        "description": "Get all students through gateway (requires JWT)"
                    }
                },
                {
                    "name": "Gateway - Get Courses (Public)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Public endpoint accessible', function() {",
                                    "    pm.response.to.have.status(200);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{gatewayUrl}}/catalog-service/courses",
                            "host": [
                                "{{gatewayUrl}}"
                            ],
                            "path": [
                                "catalog-service",
                                "courses"
                            ]
                        },
                        "description": "Get all courses through gateway (public endpoint)"
                    }
                },
                {
                    "name": "Gateway - No Auth Header (Protected)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Missing auth rejected', function() {",
                                    "    pm.response.to.have.status(401);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{gatewayUrl}}/student-service/students",
                            "host": [
                                "{{gatewayUrl}}"
                            ],
                            "path": [
                                "student-service",
                                "students"
                            ]
                        },
                        "description": "Test protected endpoint without auth header"
                    }
                },
                {
                    "name": "Gateway - Invalid Token (Protected)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Invalid token rejected', function() {",
                                    "    pm.response.to.have.status(401);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer invalid.token.here"
                            }
                        ],
                        "url": {
                            "raw": "{{gatewayUrl}}/student-service/students",
                            "host": [
                                "{{gatewayUrl}}"
                            ],
                            "path": [
                                "student-service",
                                "students"
                            ]
                        },
                        "description": "Test protected endpoint with invalid token"
                    }
                }
            ],
            "description": "Gateway service tests for JWT validation and routing"
        },
        {
            "name": "Catalog Service",
            "item": [
                {
                    "name": "Create Category",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('categoryId', jsonData.id);",
                                    "    pm.test('Category created', function() {",
                                    "        pm.expect(jsonData.name).to.eql('Programming');",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Programming\",\n  \"description\": \"Software development courses\",\n  \"iconUrl\": \"https://example.com/icons/programming.png\"\n}"
                        },
                        "url": {
                            "raw": "{{catalogUrl}}/categories",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "categories"
                            ]
                        }
                    }
                },
                {
                    "name": "Get All Categories",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{catalogUrl}}/categories",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "categories"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Course",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('courseId', jsonData.id);",
                                    "    pm.test('Course created', function() {",
                                    "        pm.expect(jsonData.title).to.eql('Java Fundamentals');",
                                    "        pm.expect(jsonData.status).to.eql('DRAFT');",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Java Fundamentals\",\n  \"description\": \"Learn Java from scratch\",\n  \"level\": \"BEGINNER\",\n  \"professorId\": 1,\n  \"categoryId\": {{categoryId}},\n  \"price\": 49.99,\n  \"durationHours\": 20\n}"
                        },
                        "url": {
                            "raw": "{{catalogUrl}}/courses",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Course by ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{catalogUrl}}/courses/{{courseId}}",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses",
                                "{{courseId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Course",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Java Fundamentals - Updated\",\n  \"description\": \"Complete Java programming course\",\n  \"level\": \"INTERMEDIATE\"\n}"
                        },
                        "url": {
                            "raw": "{{catalogUrl}}/courses/{{courseId}}",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses",
                                "{{courseId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Publish Course",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Course published', function() {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.status).to.eql('PUBLISHED');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "url": {
                            "raw": "{{catalogUrl}}/courses/{{courseId}}/publish",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses",
                                "{{courseId}}",
                                "publish"
                            ]
                        }
                    }
                },
                {
                    "name": "Get All Courses (Paginated)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{catalogUrl}}/courses?page=0&size=10&sortBy=createdAt&sortDir=desc",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "0"
                                },
                                {
                                    "key": "size",
                                    "value": "10"
                                },
                                {
                                    "key": "sortBy",
                                    "value": "createdAt"
                                },
                                {
                                    "key": "sortDir",
                                    "value": "desc"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Search Courses",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{catalogUrl}}/courses/search?keyword=Java&level=BEGINNER",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses",
                                "search"
                            ],
                            "query": [
                                {
                                    "key": "keyword",
                                    "value": "Java"
                                },
                                {
                                    "key": "level",
                                    "value": "BEGINNER"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Published Courses",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{catalogUrl}}/courses/published",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses",
                                "published"
                            ]
                        }
                    }
                },
                {
                    "name": "Add Module to Course",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('moduleId', jsonData.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Getting Started\",\n  \"description\": \"Introduction to Java\",\n  \"orderIndex\": 1\n}"
                        },
                        "url": {
                            "raw": "{{catalogUrl}}/content/courses/{{courseId}}/modules",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "content",
                                "courses",
                                "{{courseId}}",
                                "modules"
                            ]
                        }
                    }
                },
                {
                    "name": "Add Quiz to Module",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('quizId', jsonData.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Java Basics Quiz\",\n  \"description\": \"Test your knowledge of Java basics\",\n  \"passingScore\": 70,\n  \"timeLimitMinutes\": 30\n}"
                        },
                        "url": {
                            "raw": "{{catalogUrl}}/content/modules/{{moduleId}}/quizzes",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "content",
                                "modules",
                                "{{moduleId}}",
                                "quizzes"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Course Modules",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{catalogUrl}}/content/courses/{{courseId}}/modules",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "content",
                                "courses",
                                "{{courseId}}",
                                "modules"
                            ]
                        }
                    }
                },
                {
                    "name": "Archive Course",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Course archived', function() {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.status).to.eql('ARCHIVED');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "url": {
                            "raw": "{{catalogUrl}}/courses/{{courseId}}/archive",
                            "host": [
                                "{{catalogUrl}}"
                            ],
                            "path": [
                                "courses",
                                "{{courseId}}",
                                "archive"
                            ]
                        }
                    }
                }
            ],
            "description": "Catalog service tests for courses, categories, modules, and quizzes"
        },
        {
            "name": "Student Service",
            "item": [
                {
                    "name": "Create Student",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('studentId', jsonData.id);",
                                    "    pm.test('Student created', function() {",
                                    "        pm.expect(jsonData.firstName).to.eql('John');",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john.doe@student.edu\",\n  \"cne\": \"CNE123456\",\n  \"phoneNumber\": \"+212612345678\",\n  \"address\": \"123 Student Street\",\n  \"authId\": {{userId}}\n}"
                        },
                        "url": {
                            "raw": "{{studentUrl}}/students",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Student by ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{studentUrl}}/students/{{studentId}}",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students",
                                "{{studentId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Student by Auth ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{studentUrl}}/students/auth/{{userId}}",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students",
                                "auth",
                                "{{userId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Student by Email",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{studentUrl}}/students/email/john.doe@student.edu",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students",
                                "email",
                                "john.doe@student.edu"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Student",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"firstName\": \"John Updated\",\n  \"phoneNumber\": \"+212698765432\",\n  \"address\": \"456 New Street\"\n}"
                        },
                        "url": {
                            "raw": "{{studentUrl}}/students/{{studentId}}",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students",
                                "{{studentId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get All Students (Paginated)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{studentUrl}}/students?page=0&size=10",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "0"
                                },
                                {
                                    "key": "size",
                                    "value": "10"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get All Students (No Pagination)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{studentUrl}}/students/all",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students",
                                "all"
                            ]
                        }
                    }
                },
                {
                    "name": "Delete Student",
                    "request": {
                        "method": "DELETE",
                        "url": {
                            "raw": "{{studentUrl}}/students/{{studentId}}",
                            "host": [
                                "{{studentUrl}}"
                            ],
                            "path": [
                                "students",
                                "{{studentId}}"
                            ]
                        }
                    }
                }
            ],
            "description": "Student service tests for profile management"
        },
        {
            "name": "Professor Service",
            "item": [
                {
                    "name": "Create Professor",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('professorId', jsonData.id);",
                                    "    pm.test('Professor created', function() {",
                                    "        pm.expect(jsonData.firstName).to.eql('Dr. Jane');",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"firstName\": \"Dr. Jane\",\n  \"lastName\": \"Smith\",\n  \"email\": \"jane.smith@university.edu\",\n  \"department\": \"Computer Science\",\n  \"specialization\": \"Machine Learning\",\n  \"bio\": \"Expert in AI and ML with 10 years experience\",\n  \"officeLocation\": \"Building A, Room 302\",\n  \"authId\": {{userId}}\n}"
                        },
                        "url": {
                            "raw": "{{professorUrl}}/professors",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Professor by ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{professorUrl}}/professors/{{professorId}}",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "{{professorId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Professor by Auth ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{professorUrl}}/professors/auth/2",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "auth",
                                "2"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Professor by Email",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{professorUrl}}/professors/email/jane.smith@university.edu",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "email",
                                "jane.smith@university.edu"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Professors by Department",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{professorUrl}}/professors/department/Computer Science",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "department",
                                "Computer Science"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Professor",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"bio\": \"Updated bio - Leading researcher in Deep Learning\",\n  \"specialization\": \"Deep Learning\",\n  \"officeLocation\": \"Building B, Room 501\"\n}"
                        },
                        "url": {
                            "raw": "{{professorUrl}}/professors/{{professorId}}",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "{{professorId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get All Professors (Paginated)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{professorUrl}}/professors?page=0&size=10",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "0"
                                },
                                {
                                    "key": "size",
                                    "value": "10"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get All Professors (No Pagination)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{professorUrl}}/professors/all",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "all"
                            ]
                        }
                    }
                },
                {
                    "name": "Delete Professor",
                    "request": {
                        "method": "DELETE",
                        "url": {
                            "raw": "{{professorUrl}}/professors/{{professorId}}",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "{{professorId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Professor Courses",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{professorUrl}}/professors/{{professorId}}/courses",
                            "host": [
                                "{{professorUrl}}"
                            ],
                            "path": [
                                "professors",
                                "{{professorId}}",
                                "courses"
                            ]
                        }
                    }
                }
            ],
            "description": "Professor service tests for profile management"
        },
        {
            "name": "Learning Service",
            "item": [
                {
                    "name": "Enroll Student",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('enrollmentId', jsonData.id);",
                                    "    pm.test('Enrollment created', function() {",
                                    "        pm.expect(jsonData.status).to.eql('ACTIVE');",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"studentId\": {{studentId}},\n  \"courseId\": {{courseId}}\n}"
                        },
                        "url": {
                            "raw": "{{learningUrl}}/enrollments",
                            "host": [
                                "{{learningUrl}}"
                            ],
                            "path": [
                                "enrollments"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Enrollment by ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{learningUrl}}/enrollments/{{enrollmentId}}",
                            "host": [
                                "{{learningUrl}}"
                            ],
                            "path": [
                                "enrollments",
                                "{{enrollmentId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Student Enrollments",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{learningUrl}}/enrollments/student/{{studentId}}",
                            "host": [
                                "{{learningUrl}}"
                            ],
                            "path": [
                                "enrollments",
                                "student",
                                "{{studentId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Mark Lesson Complete",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"enrollmentId\": {{enrollmentId}},\n  \"lessonId\": 1\n}"
                        },
                        "url": {
                            "raw": "{{learningUrl}}/progress/lessons",
                            "host": [
                                "{{learningUrl}}"
                            ],
                            "path": [
                                "progress",
                                "lessons"
                            ]
                        }
                    }
                },
                {
                    "name": "Submit Quiz",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"enrollmentId\": {{enrollmentId}},\n  \"quizId\": 10,\n  \"answers\": {\n    \"1\": 2,\n    \"2\": 3\n  }\n}"
                        },
                        "url": {
                            "raw": "{{learningUrl}}/progress/quizzes",
                            "host": [
                                "{{learningUrl}}"
                            ],
                            "path": [
                                "progress",
                                "quizzes"
                            ]
                        }
                    }
                }
            ],
            "description": "Learning service tests for enrollments and progress"
        },
        {
            "name": "Admin Service",
            "item": [
                {
                    "name": "Get Dashboard Stats",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "X-Admin-Id",
                                "value": "1"
                            }
                        ],
                        "url": {
                            "raw": "{{adminUrl}}/admin/dashboard/stats",
                            "host": [
                                "{{adminUrl}}"
                            ],
                            "path": [
                                "admin",
                                "dashboard",
                                "stats"
                            ]
                        }
                    }
                },
                {
                    "name": "Lock User",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "X-Admin-Id",
                                "value": "1"
                            }
                        ],
                        "url": {
                            "raw": "{{adminUrl}}/admin/users/{{userId}}/lock?locked=true",
                            "host": [
                                "{{adminUrl}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "{{userId}}",
                                "lock"
                            ],
                            "query": [
                                {
                                    "key": "locked",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Unlock User",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "X-Admin-Id",
                                "value": "1"
                            }
                        ],
                        "url": {
                            "raw": "{{adminUrl}}/admin/users/{{userId}}/lock?locked=false",
                            "host": [
                                "{{adminUrl}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "{{userId}}",
                                "lock"
                            ],
                            "query": [
                                {
                                    "key": "locked",
                                    "value": "false"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Audit Logs",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{adminUrl}}/admin/logs",
                            "host": [
                                "{{adminUrl}}"
                            ],
                            "path": [
                                "admin",
                                "logs"
                            ]
                        }
                    }
                }
            ],
            "description": "Admin service tests for dashboard and management"
        }
    ]
}